@model IEnumerable<BE.U2_W3_D5.PS_PIZZERIA.Models.PIZZA>

@{
    ViewBag.Title = "Index";
}

<h2>Le nostre pizze</h2>


@*<p>
        @Html.ActionLink("Crea Pizza", "Create")
    </p>*@
<h2 style="color: green;">@TempData["Message"]</h2>
<div class="container-fluid" id="bgMenu">
    <div class="flexCard container">

        @foreach (var item in Model)
        {

            <div class="card fade-in-right" style="width: 20rem;">

                <img src="~/Content/img/@Html.DisplayFor(modelItem => item.Foto)" />
                <div class="card-body">
                    <h5 class="card-title">@Html.DisplayFor(modelItem => item.NomePizza)</h5>
                </div>
                <div class="card-body">
                    <p class="card-text">@Html.DisplayFor(modelItem => item.Ingredienti)</p>
                </div>

                <div class="card-text qta">
                    <h5 class="card-title quantita"><input type="number" /></h5>


                </div>

                <div class="card-text">
                    <h5 class="card-title">@Html.DisplayFor(modelItem => item.Prezzo)</h5>

                </div>


                <div class="btn btn-primary" id="contBtn">
                    <a href="#" data-id="@item.IdPizza" class="OrdinaBtn">ORDINA</a>
                </div>



            </div>
        }
    </div>


</div>


<!-- Questo script gestisce il click sul pulsante "Ordina" -->
<script type="text/javascript">
    $(document).ready(function () {
        var baseUrl = "/Dettaglio/Index/";
        $(".OrdinaBtn").click(function () {
            var id = $(this).data("id");
            var quantity = $(this).parent("#contBtn").siblings(".qta").children(".quantita").children("input").val();

            location.href = baseUrl + "?id=" + id + "&quantity=" + quantity;
        });
    })
</script>

<!-- Questo script aggiunge l'animazione fadeInRight alle card -->
<script type="text/javascript">
    $(document).ready(function () {
        $('.fade-in-right').addClass('animated fadeInRight');
    });
</script>
